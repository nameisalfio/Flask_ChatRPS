{% extends 'base.html' %}

{% block title %}Conversation Details{% endblock %}

{% block content %}

    <h2>Conversation Details</h2>

    <!-- Form for adding new prompt to current conversation -->
    <form method="POST" action="{{ url_for('main_bp.view_and_update_conversation', conversation_id=conversation[0]) }}">
        <label for="input_text">Add Message:</label>
        <textarea id="input_text" name="input_text" rows="4" cols="50" required></textarea><br>
        <input type="submit" value="Send">
    </form>

    <!-- Display message history -->
    <div id="message-history" style="margin-top: 20px; max-height: 500px; overflow-y: auto; border: 1px solid #ccc; padding: 10px;">
        {% for message in messages %}
            <div style="margin-bottom: 20px;">
                <p><strong>Prompt:</strong> {{ message[2] }}</p>  
                <p><strong>Response:</strong> {{ message[3] }}</p> 
                <p><strong>Timestamp:</strong> {{ message[4] }}</p>  
            </div>
        {% endfor %}
    </div>
{% endblock %}
