{% extends 'base.html' %}

{% block title %}Text Processing{% endblock %}

{% block content %}
    <h2>Chat with Llama</h2>
    <div style="border: 1px solid #ccc; padding: 10px; max-height: 400px; overflow-y: scroll;">
        {% for message in chat_history %}
            <div>
                <strong>{{ message.role }}:</strong>
                {% if message.content.startswith("```") and message.content.endswith("```") %}
                    <pre>{{ message.content[3:-3] }}</pre>
                {% else %}
                    <p>{{ message.content | safe }}</p>
                {% endif %}
            </div>
        {% endfor %}
    </div>
    <form method="POST" action="{{ url_for('main_bp.process_text') }}">
        <label for="input_text">Enter Text:</label>
        <textarea id="input_text" name="input_text" rows="4" cols="50" style="font-size: 18px;" required></textarea><br>
        <input type="submit" value="Submit">
    </form>
{% endblock %}
